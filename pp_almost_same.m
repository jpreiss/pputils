function are_same = pp_almost_same(pp1, pp2, varargin)

	[breaks1, coefs1, k1, order1, dim1] = unmkpp(pp1);
	[breaks2, coefs2, k2, order2, dim2] = unmkpp(pp2);
	are_same = ...
		k1 == k2 && ...
		order1 == order2 && ...
		all(dim1 == dim2) && ...
		max(abs(breaks1(:) - breaks2(:))) < 0.000001 && ...
		max(abs(coefs1(:) - coefs2(:))) < 0.000001;
end
